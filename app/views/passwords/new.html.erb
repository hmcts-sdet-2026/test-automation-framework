<div class="govuk-width-container">
  <main class="govuk-main-wrapper">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl">Reset your password</h1>

        <p class="govuk-body">
          Enter your email address and we'll send you a link to reset your password.
        </p>

        <% if flash[:alert] && @errors.any? %>
          <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" data-module="govuk-error-summary">
            <h2 class="govuk-error-summary__title" id="error-summary-title">
              There is a problem
            </h2>
            <div class="govuk-error-summary__body">
              <ul class="govuk-list govuk-error-summary__list">
                <% if @errors[:email_address] %>
                  <li>
                    <a href="#email_address"><%= @errors[:email_address] %></a>
                  </li>
                <% end %>
              </ul>
            </div>
          </div>
        <% elsif flash[:alert] %>
          <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" data-module="govuk-error-summary">
            <h2 class="govuk-error-summary__title" id="error-summary-title">
              There is a problem
            </h2>
            <div class="govuk-error-summary__body">
              <p><%= flash[:alert] %></p>
            </div>
          </div>
        <% end %>

        <%= form_with url: passwords_path do |form| %>
          <%= form.govuk_email_field :email_address,
            label: { text: 'Email address' },
            hint: { text: 'For example, name@example.com' },
            error_message: @errors[:email_address],
            value: params[:email_address] %>

          <%= form.govuk_submit 'Send reset link' %>
        <% end %>

        <p class="govuk-body">
          <%= govuk_link_to "Back to sign in", new_session_path %>
        </p>
      </div>
    </div>
  </main>
</div>
